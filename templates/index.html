{% extends "layout.html" %}

{% block title %}
Ver Gastos
{% endblock %}

{% block body %}

<div class="filtrar-historial-container">

    <table class="tabla-fecha">
        <form class="row-text-fields" action="/" method="POST">
            <tr>
                <td>Ver gastos:</td>

                <td>
                    <input type="radio" class="btn-filtrar-fecha" id="btn-anuales" value="anual" name="fecha">
                    <label for="btn-anuales">Anuales</label><br>
                </td>

                <td>
                    <input type="radio" class="btn-filtrar-fecha" id="btn-mensuales" value="mensual" name="fecha">
                    <label for="btn-mensuales">Mensuales</label><br>

                </td>

                <td>
                    <input type="radio" class="btn-filtrar-fecha" id="btn-diarios" value="diario" name="fecha">
                    <label for="btn-diarios">Diarios</label><br>
                </td>

            </tr>

            <tr>
                <td>Fecha:</td>
                <td>
                    <table class="table-date-text-field" id="tabla-field-anio">
                        <tr>
                            <td style="background: none;"><label for="anio">Anio:</label></td>
                            <td><input type="text" class="form-control" id="anio" name="anio" placeholder="2021"></td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table class="table-date-text-field" id="tabla-field-mes">
                        <tr>
                            <td style="background: none;">
                                <label for="mes">Mes:</label>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="mes" name="mes" placeholder="08">
                            </td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table class="table-date-text-field" id="tabla-field-dia">
                        <tr>
                            <td style="background: none;"><label for="dia">Dia:</label></td>
                            <td><input type="text" class="form-control" id="dia" name="dia" placeholder="25"></td>
                        </tr>
                    </table>
                </td>
            </tr>

            <tr class="blank-row">
                <td></td>
                <td></td>
                <td></td>
                <td>
                    <button class="btn-buscar">Buscar</button>
                </td>
            </tr>
        </form>
    </table>

</div>


<!-- TABLA HISTORIAL DE GASTOS DIARIOS-->

<div class=" table-history-container">
    <h2>
        Gastos del dia {{dia}}/{{mes}}/{{anio}}
    </h2>
    <table class="table-history">
        <thead>
            <tr>
                <td>Gasto</td>
                <td>Categoria</td>
                <td>Precio</td>
            </tr>
        </thead>

        {% for row in rows %}
        
        <tr>
            <td>{{row["nombre_gasto"]}}</td>
            <td>{{row["categoria"]}}</td>
            <td>${{row["precio"]}}</td>
        </tr>

        {% endfor %}

    </table>

</div>

<!-- TABLA HISTORIAL DE GASTOS MENSUALES-->

<div class="tabla-gastos-mensuales-container">

    <h2>Gastos del mes {{mes}} / {{anio}}</h2>

    {%if gastos_mensuales%}

    <table class="tabla-gastos-mensuales">

        <tr>
            {% for dia in range(1,8)%}
            <td>
                <h2>{{dia}}</h2>
                <h1>$</h1>
                <h1>{{gastos_mensuales[dia]}}</h1>
            </td>
            {%endfor%}
        </tr>
        <tr>
            {% for dia in range(8,15)%}
            <td>
                <h2>{{dia}}</h2>
                <h1>$</h1>
                <h1>{{gastos_mensuales[dia]}}</h1>
            </td>
            {%endfor%}
        </tr>
        <tr>
            {% for dia in range(15,22)%}
            <td>
                <h2>{{dia}}</h2>
                <h1>$</h1>
                <h1>{{gastos_mensuales[dia]}}</h1>
            </td>
            {%endfor%}
        </tr>

        <tr>
            {% for dia in range(22,29)%}
            <td>
                <h2>{{dia}}</h2>
                <h1>$</h1>
                <h1>{{gastos_mensuales[dia]}}</h1>
            </td>
            {%endfor%}
        </tr>

        <tr>
            {% for dia in range(28,32) %}
            <td>
                <h2>{{dia}}</h2>
                <h1>$</h1>
                <h1>{{gastos_mensuales[dia]}}</h1>
            </td>
            {% endfor %}
        </tr>

    </table>

    {%endif%}
</div>

<!-- TABLA HISTORIAL DE GASTOS ANUALES-->

{% if gasto_total_anio  %}

<div class="tabla-gastos-anuales-container">

    <table class="tabla-gastos-anuales">

        <thead>
            <tr>
                <th>
                    Mes
                </th>

                <th>
                    Gasto
                </th>
            </tr>
        </thead>

        <tbody>

            <tr>
                <td>Enero</td>
                <td>$ {{gastos_por_mes[1]}}</td>
            </tr>
            <tr>
                <td>Febrero</td>
                <td>$ {{gastos_por_mes[2]}}</td>
            </tr>
            <tr>
                <td>Marzo</td>
                <td>$ {{gastos_por_mes[3]}}</td>
            </tr>

            <tr>
                <td>Abril</td>
                <td>$ {{gastos_por_mes[4]}}</td>
            </tr>

            <tr>
                <td>Mayo</td>
                <td>$ {{gastos_por_mes[5]}}</td>
            </tr>
            <tr>
                <td>Junio</td>
                <td>$ {{gastos_por_mes[6]}}</td>
            </tr>
            <tr>
                <td>Julio</td>
                <td>$ {{gastos_por_mes[7]}}</td>
            </tr>
            <tr>
                <td>Agosto</td>
                <td>$ {{gastos_por_mes[8]}}</td>
            </tr>
            <tr>
                <td>Septiembre</td>
                <td>$ {{gastos_por_mes[9]}}</td>
            </tr>
            <tr>
                <td>Octubre</td>
            </tr>
            <tr>
                <td>Noviembre</td>
            </tr>
            <tr>
                <td>Diciembre</td>
            </tr>

        </tbody>

        <footer>
            <tr>
                <td>Total</td>
                <td>$ {{gasto_total_anio}}</td>
            </tr>
        </footer>
    </table>
</div>

{% endif %}


{% endblock %}